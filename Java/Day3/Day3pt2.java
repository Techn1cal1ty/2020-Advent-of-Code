public class day3pt2{
    
    String[] map = {
        ".#..#....##...#....#.....#.#...",
        "........##....#..#..##....#.#..",
        "......##......##.........#....#",
        "...#.....#....##.......#.#....#",
        ".#.###.#.#..#.....##..#....#.#.",
        "##.........##.....####......#..",
        "#...#..........#.##............",
        "####............#..........#.#.",
        "......#......#....##...#..##...",
        "#..#....#...#......#......####.",
        "......#..........#.........#.#.",
        "...##.......#..#.#..#..#....#..",
        "..####....#.#...............##.",
        "...###........#.....#..........",
        "#..#.##...##.#..##...##...#....",
        ".###........#.##..#.#.....#....",
        ".#.......#..##.......#......#..",
        ".##...........#..............#.",
        "...#..#.....#...........#...#..",
        ".....#..............#..#.......",
        ".......#....#.....##...........",
        ".#...#.............#.....##....",
        "....#.#....#...#...#..#..##.#..",
        "...#..##..##...#..##........#.#",
        ".###..#...#.#.#.#..#...#.......",
        ".....##.#.##.#.#.......#..#....",
        ".##.#...#.....#...#....#.....#.",
        ".....#......###....###..##.#..#",
        ".....#..##....#..#.#..#.#.#....",
        "#....#.....#.#.......#...#....#",
        "...#........#............#..#..",
        "#.#...#...#..##.........#...##.",
        ".#..#.#...........#....#...#...",
        "##..#.#..........#.....###...#.",
        "#..#........#.......#.#..#....#",
        "..#...##....#..#....#....#.....",
        "...#.....##....#...#..#....##.#",
        ".....#......#...#.#.#.#.#......",
        "###.....#..#.#..........##.#...",
        "...............#..#...#.#....#.",
        "#.....#.....###....#..........#",
        "........#...#.#.......#..#...#.",
        "..#.##...#...#...#.........#...",
        "#..........#..#.#...........##.",
        "##.......#.#.#...#.....#.......",
        "...#.#.#.....#......#....##..#.",
        "##.#.....#....#...#.......#....",
        ".#......##..#.##.#....##..##.#.",
        "..#..#......#....#...#..#.#....",
        "...#..###...#.......#..#.......",
        "...#....#..#....#........##....",
        "#...#...#....#.#.........###.#.",
        ".#.........##..##...#..........",
        "...##.....##.........#..#..#...",
        "###....#......#.##..#...#......",
        ".###....#.#.......#..#....#...#",
        "....####........##....#.#....##",
        "..#.....#......##...#..#..#....",
        "...#....#...#......#.###.#.#.#.",
        "......#.......#..#...#...#.....",
        ".#...#...#..#.#..........#.....",
        "........#..#.........#.#....##.",
        ".#....#.......#........#.##.#..",
        "...#...#..#.....#......#...##..",
        ".#.................#........###",
        ".......#.#..#.#...#............",
        ".#.......#..##...#.###....#.##.",
        "#........#.###.#..#........##..",
        "..##.#....##......##........#..",
        "...............#...............",
        "#.......#......##..#.#....#.#.#",
        "..#.....#......#.#.#...#...##..",
        "..........#........#.....##...#",
        "#..........#.#..#..##..#......#",
        ".......#..###..##.#..##........",
        "#.#..##..###..#.###.....#.#..##",
        "..#.#........#...###...##......",
        ".......##.....##...#.##........",
        ".#.#...###..#..#......##....##.",
        "#...#.#.....##..#..#..#.#....#.",
        "........#......#....#..#.......",
        "...#.#.#.#........###....#...#.",
        ".#......#...#.......#......#...",
        "#...#.##.#..#.#..#.........#...",
        "....#......##......#........#.#",
        "..##.#.....#..#......#..#......",
        "#.##...##...#................#.",
        ".....#..#....#....#####........",
        "....#..#..#.#...#.#............",
        ".........#.#....#..#....##...#.",
        "#....#..........#......#......#",
        ".......#..............#......#.",
        ".#..#...#..#.#.....#.#.#.##.#..",
        ".##........#......#...#.##.....",
        "...#.##..#........#...........#",
        "..#...#..#........#.......#.#..",
        "#.....#..#.#..#..#...#...#..#..",
        "..................#.#.....#...#",
        "........#...##.#..#.........#..",
        ".#...##.#...........##.##...#..",
        "#......#.........#...#...#...#.",
        "..........#.............#...#..",
        "#............##.#..#...#.#...#.",
        "..#.##...##....##.#...####...#.",
        "#.##..#......#.......#.#...##..",
        ".....#...#..#......#####.##..#.",
        "#...#.#.##..#..##.....#......#.",
        ".#..#......#.#.#...#.#...##.#..",
        ".#.....#..##........#.....#...#",
        ".................#..........#..",
        "##.#.#......#.####..#.....#....",
        ".#...##.####..#...#............",
        "..#...............###....#....#",
        "#...#..###..#.#.##...........##",
        "...................#..#.....#..",
        "...#.##.#...#.....#......#.##..",
        "#.#...#.........##.#........#.#",
        ".##.......#..#..#.....##....#..",
        "......##.#.#..#...#.#..##.....#",
        "..#..###...#...#......#.#......",
        "..##....#.#...#....#....#..#..#",
        "#..##....#........#..##..#..#.#",
        ".......#............#....##..#.",
        ".#.#..#.........#.#.##......#..",
        "#.#....#..##..#..###.#.....##..",
        ".###.#......#.....#####...#....",
        "#...#.#...##......#...#.#...##.",
        "#..#.........#..#............#.",
        "...##......##.......##....##...",
        "...#...##....###..###.#...#....",
        "#.#....#...#.#...##..#........#",
        ".#..#..................#....#..",
        "#......#..#...##..##...#..##..#",
        "...#..#.....#...#........#.#.#.",
        "#...#..##....#.....#........#..",
        ".##..#....#.....#.#............",
        "##..##.#.#.##.#.#..#.#..#....#.",
        "#.......#...............#.....#",
        "..#.....#..##.....#...##.##....",
        "...#..#...#.#.#....#......#....",
        "###.#.......#....#....#.#...#..",
        ".....###..#...###.#.#..#.......",
        ".....#.........##.#....#..##.#.",
        "........#....#....#....#.#..##.",
        "........###....#.#.........#.#.",
        ".#..###..#........#.......##.#.",
        ".#.#...........................",
        "..#....##...#.#....#....#.#....",
        ".#...#...##.#........###....#..",
        "#.#....#...#.#.#...##......##..",
        "#......#....#...#..#....#...#..",
        "...#..##........#.#...##......#",
        "....##...........##...#..#..#..",
        "......#..#........#..#....##.##",
        ".###..#.#.........#.....#......",
        ".#..##............#......#.....",
        "..##.#.#..#..#.###....#..#..#..",
        "....#.#..#.#..##...##.#.#.#.#..",
        "....#..#....#...............#..",
        "..#...#.##.....##....#..##..#..",
        ".......##.#....#.##....#.......",
        ".#...#........#...#......#.###.",
        "..#....##.......#....#.#...#.#.",
        ".....#.....#...##..#....#.#..##",
        "..##........##............##...",
        "..........#...#.......#.......#",
        ".#...............#...#.##......",
        "#.##......#....#.##.#..#..#...#",
        "......###.........#...#..#....#",
        "....#......#...#....#....#...#.",
        "#...##...#....#......####....#.",
        ".................#......#......",
        "..#..........##.......##..#.##.",
        ".#.....#.......#...######..#..#",
        "....##.#...#...#..........#....",
        ".....#.......#...#.#.......###.",
        "#...#.###.....#...#.......#....",
        ".#.##.####....#.....#.#........",
        ".......#.....##............##..",
        "..#...#.#.##........#...##...#.",
        "........#...####.##..#....#...#",
        "#.......#...##.#......#..#...#.",
        "......#.........#..###.#.#....#",
        "#..##...#...#..#...#...#.....#.",
        ".#...#...#.#.................##",
        "#......#.....#..#.#..#......##.",
        ".......#.##...#.......#.......#",
        ".#.#..#..#......#....#.#...#.#.",
        "..#...#.#..#......#...#.#.#....",
        "........#..............#..##...",
        ".##..#..##.#....#.#..###..#..#.",
        "..#....#......#...#.#.#....#...",
        "...#..#..#....#..#.....##......",
        ".#......#...#........##........",
        ".#......#..#...##..#..#.#.#....",
        ".##......#.##.........#....#...",
        "....#....##..#..###.#..#......#",
        "....#....##..........#.#...#...",
        "..##.#.............#..#.....#..",
        "..#.....#....#....#.......##...",
        ".##.#....#....#...#....##.#....",
        "...#.#..#.###.#..#.#.......#.#.",
        ".....##.....#.......#......#...",
        ".#.....#..#.#.#..#........##...",
        "##.....................#.......",
        "..###............#........##..#",
        ".#.##.....#..#..#..#.#.......#.",
        ".##...................#..#..#..",
        "..#.#...#..........##..#..##...",
        "#......#..#..#.#..#......#..#.#",
        ".#...#....#.#.........#.....#.#",
        "#..........#.#....#....#.#.#.#.",
        "#.....#..........#..#....#..#..",
        "........#....#..##.#.#.......#.",
        ".#.......##.......#..##...#....",
        "...#..##..#......##.#..#.#..#..",
        ".#..#.......#..##..#......#....",
        "###.#.........#......#.#.......",
        "...#......#....#..##..#.#..#...",
        "......#..#.....#.........#....#",
        "....#..#..#..#.........##.#..#.",
        "......#..#..#..#....#...#..##.#",
        "......##.#..#..#.#.......#.#.##",
        "..#.....#...#..#....#..........",
        ".##..##.....##.......#.##.#....",
        "...#..#.......#..#.......#.....",
        ".........#....##..#.#....#.#...",
        ".....#..#...#.........#....#..#",
        ".........##.....#.#...#.###...#",
        ".#......####..##...#..#........",
        ".#......##....#.....#..........",
        "##.......##.#.......#..........",
        ".#......#.#.#.#....#........#..",
        "......##..##...#...#...........",
        ".#...#.#..#......#.#.#.#....#.#",
        "...#.........#.....#...###.....",
        "#.....##....#.##...#....#......",
        ".#..#...#..##.###.#.#.#...#....",
        "...#......#..#....#...#...#....",
        ".#..............#.....#........",
        "..##...#.....#..#.....#..#.#...",
        ".##...#....#.##...#.........##.",
        "..#......#...##..#.....#......#",
        "#.#..............#...#...#..#.#",
        "..#..#.#...........#...#.#.#...",
        "#..........#...#..#..##..#....#",
        "............#...#........###...",
        ".........#.....#.....#..#......",
        "#...#.#..##......#.#####.......",
        "...#........#..............#...",
        "......###.#.#.....#..#....##.#.",
        ".#.#.#..##....###.#..#....##...",
        ".#....#.##............##.#.....",
        "##...##.#......#.#.##.##...###.",
        ".......#.#........#.....#......",
        "....#.....#......#...#.#..#....",
        ".#.........#....#...#...#...#.#",
        "#.......#................#..#..",
        ".##...........#.##...##....#...",
        "#...#.#...###.........#.......#",
        ".#...#.........................",
        "#.......#...#.....##.##...##...",
        ".#.#....#.......#.#.##.#....#..",
        "#..#....#...#.#.##.#....#....#.",
        ".##.....#.#..#...#..#..........",
        ".............#...#.#..#........",
        "....#........#..#......##......",
        "#.....#....#.....#.......#.....",
        "........#.......##....#........",
        ".#.#..##.......................",
        "##..#.....#........#.....#.....",
        ".#......#.#...#.#..........#..#",
        ".#..#.....#..#..........#.###..",
        "......#.#..#.#.......#.#.....#.",
        ".#....#......#..##.............",
        "#...##.........#.#.#...#.....#.",
        "..#................#..#..###...",
        "#.....#....##.#..##......#.#.#.",
        "..#....#...#...#...............",
        "#................#....#...#.#..",
        "................#...#.....#.##.",
        "..#.#.#..#.##.......##.......##",
        "...........#......##.......###.",
        "...#.......##.........#.#.#.#..",
        ".#...#.#..#...#.#.....#........",
        "............#####......##......",
        "....###....#.##...#..#.........",
        "..#.#...#.......#...#...#.###..",
        "..............##..#...#....#...",
        "#.#..##...#....##.........#....",
        "..#...#.....#...........#...#..",
        "#.#..###..#.#..#........#..#.#.",
        "...###...##...#...#.#.........#",
        "..#........#.....#.#.#.......#.",
        "...#..#..........#.....#...#...",
        "....#..#.....#....##....#.##...",
        ".....##..#...#.#..##...#...##.#",
        "...........###...##....#.......",
        "##..#.#..#..#...#....##..#..#..",
        "##...#.#......##.#..#...#....#.",
        ".#.......#...........#...#.....",
        "#...#....#.......#...#.##......",
        ".........#.......#...#.#...#...",
        ".......##.#..................#.",
        "........#..#.#......#.....#....",
        ".....#.#.#.#....##...#.###.....",
        "#.#.........#..#.#.#.#.#.......",
        ".............#....#.......###..",
        ".#.##....#....##.........####..",
        "...........###.#...............",
        "#.........##.#.#..#.....##.###.",
        ".#.#.....#.#...#.....##...#...#",
        "#....#...#.........#.#.......#.",
        ".....#.###..#....#...##..#...#.",
        "#........#....#.#..#....#.#....",
        "#.#..##......#.........#.#.....",
        "##..#.....#......###....#....#.",
        "#.#.####..#.#.#......##...#..#.",
        "....#.....#.#.#.#.....#........",
        "..##..........#......#.#.#..#..",
        ".#...##.##.........#.........##",
        "..#.#.#..........#..#..#......#",
        "###..###..#...#................"};

    public long step(int i){
        long sum = 0;
        int pos = 0;
        for(String str : map){
            int abspos = pos % 31;
            if(str.substring(abspos, abspos+1).equals("#")){
                sum++;
            }
            pos += i;
        }
        return sum;    
    }
    
    public long runner(){
        int sum = 0;
        int pos = 0;
        for(int i = 0; i < map.length; i += 2){
            int abspos = pos % 31;
            if(map[i].substring(abspos, abspos+1).equals("#")){
                sum++;
            }
            pos += 1;
        }
        return sum*step(1)*step(3)*step(5)*step(7);
    }
}
